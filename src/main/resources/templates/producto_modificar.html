<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-commerce</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/producto_modificar.css"> 
    <!-- vcode - sacar despues  -->
    <!-- <link rel="stylesheet" href="../static/css/producto_form.css"> -->

</head>

<body>

    <div class="container">
        <h1 class="text-center">MODIFICAR PRODUCTO</h1>
    </div>

    <div class="container">
        <form th:action="@{/producto/modificar/__${producto.id}__}" method="POST" enctype="multipart/form-data">

            <div class="container input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">id</span>
                <input type="text" name="id" th:value="${id}" class="form-control" aria-label="Sizing example input"
                    aria-describedby="inputGroup-sizing-default">
            </div>
            <div class="container input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">nombre</span>
                <input type="text" name="nombre" th:value="${producto.nombre}" class="form-control"
                    aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
            </div>

            <div class="container my-3">

                <select name="condicion" id="" class="form-select" aria-label="Default select example">
                    <option th:value="${producto.condicion.toString()}" th:text="${producto.condicion.toString()}"
                        selected>seleccione una categoria</option>
                    <option th:value="NUEVO" th:if="${producto.condicion.toString() != 'NUEVO'}" th:text="NUEVO">
                    </option>
                    <option th:value="USADO" th:if="${producto.condicion.toString() != 'USADO'}" th:text="USADO">
                    </option>
                </select>
            </div>

            <div class="container input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Stock</span>
                <input type="number" name="stock" th:value="${producto.stock}" class="form-control"
                    aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
            </div>
            <div class="container input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">precio</span>
                <input type="number" name="precio" th:value="${producto.precio}" class="form-control"
                    aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
            </div>
            <div class="container input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Codigo de barras EAN</span>
                <input type="number" name="EAN" th:value="${producto.EAN}" class="form-control"
                    aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
            </div>
            <!-- archivo -->
            <div class="hero container mb-3">
                <label for="input-file" class="form-label" id="drop-area">
                    <input name="archivo" accept="image" class="" type="file" id="input-file" hidden>
                    <div id="img-view">
                        <i class="bi bi-cloud-arrow-up-fill"></i>
                        <p>click o arrastre y suelte <br>para agregar el archivo</p>
                        <span>subir una imagen</span>
                    </div>
                </label>
                <button type="button" class="btn btn-danger" hidden id="input-button">X</button>
            </div>
            <div class="container my-3 ">

                <textarea class="form-control" th:text="${producto.descripcion}" name="descripcion" id="descripcion"
                    cols="30" rows="5" placeholder="descripcion"></textarea>
            </div>
            <!-- categoria -->
            <input type="checkbox" id="categoria-radio">
            <label for="categoria-radio">Ingresar nueva categoria</label>
            <div class="container my-3" id="categoria">
                <select name="idCategoria" class="form-select" aria-label="Default select example">
                    <option th:text="${producto.categoria.nombre}" th:value="${producto.categoria.id}" selected>
                    </option>
                    <option th:each="categoria:${categorias}" th:if="${categoria.nombre != producto.categoria.nombre}"
                        th:value="${categoria.id}" th:text="${categoria.nombre}" />
                </select>
            </div>
            <!-- fabricante -->
            <input type="checkbox" id="fabricante-radio">
            <label for="fabricante-radio">Ingresar nuevo fabricante</label>
            <div class="container  my-3" id="fabricante">
                <select name="idFabricante" class="form-select" aria-label="Default select example">
                    <option th:text="${producto.fabricante.nombre}" th:value="${producto.fabricante.id}" selected>
                    </option>
                    <option th:each="fabricante:${fabricantes}"
                        th:if="${fabricante.nombre != producto.fabricante.nombre}" th:value="${fabricante.id}"
                        th:text="${fabricante.nombre}" />
                </select>
            </div>

            <div class="container d-grid gap-2">
                <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
        </form>
    </div>

    <div th:replace="~{/fragments/msgExitoError :: div}"></div>
    <footer>

    </footer>
    <script src="../js/producto_formScript.js"></script>
    <!-- vcode - sacar despues  -->
    <script src="../js/producto_formScript.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

</body>

</html>